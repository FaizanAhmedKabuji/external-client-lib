# Agent Implementation Prompt: Basic Setup - External Client Library

## OBJECTIVE
Convert existing Spring Boot application to a reusable Java library that provides generic REST API client functionality using Spring WebClient with fluent API design.

## TECHNICAL CONSTRAINTS
- Stack: Java 21, Spring Boot 3.5.5, Gradle, Spring WebClient
- Performance: Reactive non-blocking HTTP client using WebClient
- Standards: Follow Spring Boot library patterns, use Lombok for boilerplate reduction
- APIs: Support REST APIs only, no authentication/error handling initially
- Dependencies: Add spring-boot-starter-webflux for WebClient, maintain existing Spring Web/Lombok/JUnit
- Package: com.alifa.externalclient
- Artifact: external-client-lib with proper versioning

## IMPLEMENTATION REQUIREMENTS
- Remove @SpringBootApplication and convert to library (remove main method)
- Add spring-boot-starter-webflux dependency to build.gradle
- Create WebClient class with fluent API design
- Support HTTP methods: GET, POST, PUT, DELETE via fluent interface
- Implement generic typed responses using `<T>`
- API style: webClient.get()..., webClient.post().url()...
- Return direct generic type `<T>`, not wrapped responses
- Configure Gradle publishing in build.gradle for library distribution
- Application-level configuration responsibility (not library's concern)

## DELIVERABLES
- Modified build.gradle with webflux dependency and publishing configuration
- Removed ExternalClientLibApplication.java (convert from application to library)
- Created WebClient.java with fluent API for REST operations
- Created supporting classes for HTTP method builders (GetRequest, PostRequest, etc.)
- Updated project structure to library format
- Maintained test structure with appropriate library tests

## SUCCESS CRITERIA
- Project compiles successfully as a library (no main method)
- WebClient provides fluent API: webClient.get().url("...").execute()
- Generic responses work: webClient.get().url("...").execute(ResponseType.class)
- All HTTP methods (GET, POST, PUT, DELETE) supported via fluent API
- Gradle publishing configuration allows library to be consumed by other projects
- Tests validate the fluent API functionality
- Library can be imported and used in other Spring Boot projects

## YOUR TASKS
- [ ] Add spring-boot-starter-webflux dependency to build.gradle
- [ ] Configure Gradle publishing in build.gradle for library distribution
- [ ] Remove ExternalClientLibApplication.java (convert from app to library)
- [ ] Create WebClient.java with fluent API design
- [ ] Create HTTP method builder classes (GetRequestBuilder, PostRequestBuilder, etc.)
- [ ] Create request execution and response handling
- [ ] Create unit tests for WebClient fluent API
- [ ] Verify library can be built and published